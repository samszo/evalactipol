<html>
  <head>
    <script type='text/javascript' src='http://www.google.com/jsapi'></script>
	
	<script type="application/x-javascript" src="library/js/interface.js"></script>
	<script type="application/x-javascript" src="library/js/ajax.js"></script>
	<script type="application/x-javascript" src="library/js/tree.js"></script>

	<script type='text/javascript'>
	
	p = new XMLHttpRequest();
	p.onload = null;
	var url = "http://localhost/evalactipol/library/php/ExeAjax.php?f=GetData";
	p.open("GET", url, false);
	p.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	p.send(null);

	if (p.status != "200" ){
	      alert("Réception erreur " + p.status);
	}else{
	    response = p.responseText;
	}
	
	eval(response);
	
    var chart = new google.visualization.AnnotatedTimeLine(document.getElementById('chart_div'));
    chart.draw(data, {displayAnnotations: true});
		
	
	
	google.load('visualization', '1', {'packages':['annotatedtimeline']});
	google.setOnLoadCallback(drawVisualization);
	
	var urlExeAjax = "http://localhost/evalactipol/library/php/ExeAjax.php";
	var url = urlExeAjax+"?f=GetJson";
	function drawVisualization() {
		new google.visualization.Query(url).send(
			function(response) {	
				new google.visualization.AnnotatedTimeLine(
				document.getElementById('chart_div')).
					draw(response.getDataTable(), {'displayAnnotations': true});
			}
		);
	}
	
	
	
	
	/*function drawVisualization() {
	new google.visualization.Query(
	'http://spreadsheets.google.com/tq?key=pCQbetd-CptH5QNY89vLtAg&pub=1').send(
	function(response) {	
	new google.visualization.AnnotatedTimeLine(
	document.getElementById('chart_div')).
	draw(response.getDataTable(), {'displayAnnotations': true});
	});
	}*/
		
	/*google.load('visualization', '1', {'packages':['annotatedtimeline']});
	google.setOnLoadCallback(drawChart);
	function drawChart() {
	  
	GetData();
	var chart = new google.visualization.AnnotatedTimeLine(document.getElementById('chart_div'));
	chart.draw(data, {displayAnnotations: true});
	}*/
      
    </script>
  </head>

  <body>
    <div id='chart_div' style='width: 1200px; height: 700px;'></div>
  </body>
</html>